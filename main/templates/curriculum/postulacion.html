{% extends "base.html" %}
{% block slider %}{% endblock %}
{% block curriculum %}

{% block jquery %}
<!--
    <script src="{{ directorio }}js/jquery-1.9.1.min.js"></script>
-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script>!window.jQuery && document.write('<script src="js/jquery-1.7.2.min.js"><\/script>')</script>
{% endblock%}
<script src="{{ directorio }}chosen/chosen.jquery.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="{{ directorio }}chosen/chosen.css"/>
<script type="text/javascript">

    $(document).ready(function() {
        $('select').chosen();
    });
</script>
<link type="text/css" href="/main/static/css/jquery.datepick.css" rel="stylesheet">

<script type='text/javascript' src="{{ directorio }}js/merged-without-jquery.min.js"></script>
<script type='text/javascript' src="{{ directorio }}js/jquery.mobile.customized.min.js"></script>
<script type='text/javascript' src="{{ directorio }}js/jquery.easing.1.3.js" ></script>
<script type='text/javascript' src="{{ directorio }}js/camera.min.js"></script>

<script type="text/javascript" src="{{ directorio }}js/modernizr-2.6.2.min.js"></script>

<script type="text/javascript" src="{{ directorio }}js/jquery.datepick.js"></script>
<script type="text/javascript" src="{{ directorio }}js/jquery.cookie-1.3.1.js"></script>
<script type="text/javascript" src="{{ directorio }}js/jquery.steps.js"></script>
<script type="text/javascript">
$(function() {
	$('#popupDatepicker').datepick();
	$('#inlineDatepicker').datepick({onSelect: showDate});
});

function showDate(date) {
	alert('The date chosen is ' + date);
}
function showDate2(date) {
	alert('The date chosen is ' + date);
}
</script>




<script>
var current = 1;

function addEducacion() {
    console.log('running addPerson')
    //current keeps track of how many people we have.
    current++;
    var strToAdd = '<hr><h1>Formación educativa</h1><p><input class="form-control" id="id_'+ current +'-titulo" maxlength="50" name="'+ current +'-titulo" placeholder="Título obtenido" required="required" type="text"><p>'
    strToAdd += '<p><div class="chosen-container chosen-container-single" style="width: 100px;" title="" id="id_'+ current +'_institucion_chosen"><a class="chosen-single" tabindex="-1"><span>---------</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off"></div></div></div><p>'
    strToAdd += '<p><input class="form-control hasDatepick" id="popupDatepicker" name="'+ current +'-fecha_inicio" placeholder="Fecha de inicio" required="required" type="text"><p>'
    strToAdd += '<p><input class="form-control hasDatepick" id="popupDatepicker2" name="'+ current +'-fecha_fin" placeholder="Fecha de culminación" required="required" type="text"><p>'
    console.log(strToAdd)
    $('#mainField').append(strToAdd)
}

$(document).ready(function(){
    $('#addEducacion').click(addEducacion)
});
25</script>

<style>
#id_captcha_1:focus {
border-color: rgb(102, 175, 233);
outline: 0px none;
box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.075) inset, 0px 0px 8px rgba(102, 175, 233, 0.6);
}
#id_captcha_1{
display: inline;
height: 34px;
padding: 6px 12px;
font-size: 10px;
line-height: 1.42857;
color: rgb(85, 85, 85);
vertical-align: middle;
background-color: rgb(255, 255, 255);
background-image: none;
border: 1px solid rgb(204, 204, 204);
border-radius: 4px;
box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.075) inset;
transition: border-color 0.15s ease-in-out 0s, box-shadow 0.15s ease-in-out 0s;
width:200px;
}
a.tooltips {
  position: relative;
  display: inline;
}
a.tooltips span {
  position: absolute;
  width:260px;
  color: #FFFFFF;
  background: #000000;
  border: 2px solid #B0AEAE;
  height: 33px;
  line-height: 33px;
  text-align: center;
  visibility: hidden;
  border-radius: 7px;
}
a.tooltips span:before {
  content: '';
  position: absolute;
  top: 50%;
  right: 100%;
  margin-top: -12px;
  width: 0; height: 0;
  border-right: 12px solid #B0AEAE;
  border-top: 12px solid transparent;
  border-bottom: 12px solid transparent;
}
a.tooltips span:after {
  content: '';
  position: absolute;
  top: 50%;
  right: 100%;
  margin-top: -8px;
  width: 0; height: 0;
  border-right: 8px solid #000000;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
}
a:hover.tooltips span {
  visibility: visible;
  opacity: 0.6;
  left: 100%;
  top: 50%;
  margin-top: -16.5px;
  margin-left: 15px;
  z-index: 999;
}

    </style>
	
    <br /><br /><br />

<div id="interna">
    <div class="informativa">
        <div id="contenedorInformacion">
            <br>
            {% block head %}
                {{ wizard.form.media }}
            {% endblock %}
            <div class="front-signup js-front-signup">

                <center>
                    <h2>Envíanos tu información curricular</h2> 
                    <br />

                    {% ifequal wizard.step.current "0" %}
                        <h1>Información personal</h1>
                    {% endifequal %}
                    <form action="" method="post">{% csrf_token %}
                        {{ wizard.management_form }}
                        {% if persona_form.errors %}
                            <span class="label label-danger">{{ form.errors }}</span>
                        {% endif %}
                        {% if wizard.form.forms %}

                            {{ wizard.form.management_form }}
                            {% for form in wizard.form.forms %}
                                <div>
                                    {{ form }}
                                    {% if form.help_text %}
                                        <a class="tooltips" href="#"><img src="{{ directorio }}images/help.png" /><span>{{ form.help_text }}</span></a>
                                    {% endif %}
                                </div>
                            {% endfor %}
                        {% else %}
                            {% for form in wizard.form %}
                                <div>
                                    {% ifnotequal wizard.steps.current "1" %}
                                        {{ form }}
                                        {% if form.help_text %}
                                        {% endif %}
                                    {% endifnotequal %}
                                </div>
                            {% endfor %}
                        {% endif %}
                        {% ifequal wizard.steps.current "1" %}
                            <fieldset id="mainField" align="center">


		<form method="post">
		    <p><input type="button" class="btn btn-success" id="addVar" value="Añadir otra formación"></p>
		</form>
                        {% endifequal %}
                        {{ instituciones }}
    
                        {% if wizard.steps.prev %}
                            <button name="wizard_goto_step" class="btn btn-success" type="submit" value="{{ wizard.steps.prev }}">Paso anterior</button>
                        {% endif %}
                        {% if wizard.steps.next %}
                            <button name="wizard_goto_step" class="btn btn-success" type="submit" value="{{ wizard.steps.next }}">Sigueinte paso</button>
                        {% endif %}
                        {% ifequal wizard.steps.current wizard.steps.last %}
                            <button name="wizard_goto_step" class="btn btn-success" type="submit" value="Enviar currículum">Enviar currículum</button>
                        {% endifequal %}
                    </form>
		    
                </center>
                <br />
            </div>
        </div>
    </div>
</div>
<script>
	//initialize with 3
	var startingNo = 0;
	var $node = "";
	for(varCount=0;varCount<=startingNo;varCount++){
	    var displayCount = varCount+1;
	    $node += '<div class="align=center"><hr><h1>Formación educativa</h1><p><input class="form-control" id="id_'+ displayCount +'-titulo" maxlength="50" name="'+ displayCount +'-titulo" placeholder="Título obtenido" required="required" type="text"></p>'
	    //~ $node += '<p><div class="chosen-container chosen-container-single" style="width: 100px;" title="" id="id_'+ displayCount +'_institucion_chosen"><a class="chosen-single" tabindex="-1"><span>---------</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off"></div></div></div></p>'
	    //~ $node += '<p><div class="chosen-container chosen-container-single" style="width: 100px;" title="" id="id_'+ varCount +'_institucion_chosen"><a class="chosen-single" tabindex="-1"><span>---------</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search">

	    $node += '<p><input class="form-control hasDatepick" id="popupDatepicker" name="'+ displayCount +'-fecha_inicio" placeholder="Fecha de inicio" required="required" type="text"></p>'
	    $node += '<p><input class="form-control hasDatepick" id="popupDatepicker2" name="'+ displayCount +'-fecha_fin" placeholder="Fecha de culminación" required="required" type="text"></p></div>'
		
	}
	$('form').prepend($node);
	
	$('form').on('click', '.removeVar', function(){
		$(this).parent().remove();
		//varCount--;
	});

	$('#addVar').on('click', function(){
	    //new node
	    varCount++;
	    $node = '<hr><h1>Formación educativa</h1><p><input class="form-control" id="id_'+ varCount +'-titulo" maxlength="50" name="'+ varCount +'-titulo" placeholder="Título obtenido" required="required" type="text"></p>'
	    //~ $node += '<p><div class="chosen-container chosen-container-single" style="width: 100px;" title="" id="id_'+ varCount +'_institucion_chosen"><a class="chosen-single" tabindex="-1"><span>---------</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search">
                    
	    $node += '<p><input class="form-control hasDatepick" id="popupDatepicker" name="'+ varCount +'-fecha_inicio" placeholder="Fecha de inicio" required="required" type="text"></p>'
	    $node += '<p><input class="form-control hasDatepick" id="popupDatepicker2" name="'+ varCount +'-fecha_fin" placeholder="Fecha de culminación" required="required" type="text"></p>'
	    $(this).parent().before($node);
	});
	
	
	</script>
{% endblock %}
